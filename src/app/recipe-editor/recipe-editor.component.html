<h2>Create recipe</h2>

<form>
  <mat-form-field>
    <input matInput placeholder="Name" name="name" value="" [(ngModel)]="currentRecipe.name">
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Summary" name="summary" value="" [(ngModel)]="currentRecipe.summary">
  </mat-form-field>

  <mat-form-field>
    <textarea matInput placeholder="Instructions" name="instructions" rows="5" [(ngModel)]="currentRecipe.instructions"></textarea>
  </mat-form-field>

  <fieldset>
    <legend>Ingredients</legend>

    <p *ngIf="currentRecipe.ingredients.length == 0">
      No ingredients has been added.
    </p>
    <table *ngIf="currentRecipe.ingredients.length > 0">
      <tr>
        <th>Quantity</th>
        <th>Ingredient</th>
      </tr>
      <tr *ngFor="let iq of currentRecipe.ingredients">
        <td>{{ iq.quantity }} {{ iq.ingredient.quantityType.unit }}</td>
        <td>{{ iq.ingredient.name }}</td>
      </tr>
    </table>

    <mat-form-field>
      <mat-select placeholder="Ingredient" name="ingredient" [(ngModel)]="currentIngredient">
        <mat-option *ngFor="let ingredient of ingredients" [value]="ingredient.id">
          {{ingredient.name}} ({{ ingredient.quantityType.unit }})
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="number" placeholder="Quantity" name="quantity" value="" [(ngModel)]="currentIngredientQuantity">
    </mat-form-field>

    <button mat-button color="secondary" type="button" (click)="onAddIngredient()">Add Ingredient</button>
  </fieldset>

  <button mat-button color="primary" type="button" (click)="onCreateRecipe()">Create</button>
  
</form>
